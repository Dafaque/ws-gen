// Code generated by wsgen. DO NOT EDIT.
import 'package:web_socket_channel/web_socket_channel.dart';
import 'package:{{get_param "module"}}/{{get_param "package"}}/model/model.dart';
import 'package:{{get_param "module"}}/{{get_param "package"}}/serialization/coder.dart';

class MessageSender {
    final WebSocketChannel chan;
    final Coder coder;
    MessageSender(this.chan, this.coder);

    void _send(Mapable msg) {
        final dynamic data = coder.encode(msg);
        chan.sink.add(data);
    }
    {{- range $msg := .Messages}}
    {{- $name := sconv $msg.Name}}
    void send{{$name}}({{$name}} msg) {
        _send(msg);
    }
    {{- end}}
}